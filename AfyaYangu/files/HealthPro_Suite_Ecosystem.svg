<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Define styles and gradients -->
  <defs>
    <linearGradient id="practiceGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3498db;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2980b9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="facilityGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2ecc71;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#27ae60;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="complianceGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e74c3c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c0392b;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="hieGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#9b59b6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#8e44ad;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="4" stdDeviation="4" flood-opacity="0.3"/>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#7f8c8d" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="600" y="40" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="#2c3e50" text-anchor="middle">
    HealthPro Suite Apps - HIE Ecosystem Integration
  </text>

  <!-- Central HIE Core -->
  <g id="hie-core">
    <rect x="450" y="350" width="300" height="150" rx="10" fill="url(#hieGrad)" filter="url(#shadow)"/>
    <text x="600" y="390" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="white" text-anchor="middle">
      OpenHIE Core
    </text>
    <text x="600" y="415" font-family="Arial, sans-serif" font-size="14" fill="white" text-anchor="middle">
      Interoperability Layer
    </text>
    <line x1="470" y1="425" x2="730" y2="425" stroke="white" stroke-width="1" opacity="0.5"/>
    
    <!-- HIE Components -->
    <text x="600" y="445" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle">
      ‚Ä¢ FHIR Server ‚Ä¢ Message Queue
    </text>
    <text x="600" y="465" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle">
      ‚Ä¢ Security Token Service ‚Ä¢ Audit Logs
    </text>
    <text x="600" y="485" font-family="Arial, sans-serif" font-size="12" fill="white" text-anchor="middle">
      ‚Ä¢ Terminology Service
    </text>
  </g>

  <!-- Practice360 App -->
  <g id="practice360">
    <rect x="50" y="100" width="280" height="180" rx="10" fill="url(#practiceGrad)" filter="url(#shadow)"/>
    <text x="190" y="135" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white" text-anchor="middle">
      üì± Practice360
    </text>
    <text x="190" y="158" font-family="Arial, sans-serif" font-size="13" fill="white" text-anchor="middle" font-style="italic">
      Practitioner Application
    </text>
    <line x1="70" y1="168" x2="310" y2="168" stroke="white" stroke-width="1" opacity="0.5"/>
    
    <text x="70" y="190" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Pre-authorization Management
    </text>
    <text x="70" y="208" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Appointment Scheduling
    </text>
    <text x="70" y="226" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Clinical Documentation
    </text>
    <text x="70" y="244" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Shift Management
    </text>
    <text x="70" y="262" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ License & CPD Tracking
    </text>
  </g>

  <!-- Facility360 App -->
  <g id="facility360">
    <rect x="870" y="100" width="280" height="180" rx="10" fill="url(#facilityGrad)" filter="url(#shadow)"/>
    <text x="1010" y="135" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white" text-anchor="middle">
      üè¢ Facility360
    </text>
    <text x="1010" y="158" font-family="Arial, sans-serif" font-size="13" fill="white" text-anchor="middle" font-style="italic">
      Facility Management
    </text>
    <line x1="890" y1="168" x2="1130" y2="168" stroke="white" stroke-width="1" opacity="0.5"/>
    
    <text x="890" y="190" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Facility Master Data
    </text>
    <text x="890" y="208" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Workforce Assignment
    </text>
    <text x="890" y="226" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ License Applications
    </text>
    <text x="890" y="244" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Shift Scheduling
    </text>
    <text x="890" y="262" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Compliance Monitoring
    </text>
  </g>

  <!-- Compliance360 App -->
  <g id="compliance360">
    <rect x="460" y="80" width="280" height="180" rx="10" fill="url(#complianceGrad)" filter="url(#shadow)"/>
    <text x="600" y="115" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white" text-anchor="middle">
      ‚öñÔ∏è Compliance360
    </text>
    <text x="600" y="138" font-family="Arial, sans-serif" font-size="13" fill="white" text-anchor="middle" font-style="italic">
      Regulatory Management
    </text>
    <line x1="480" y1="148" x2="720" y2="148" stroke="white" stroke-width="1" opacity="0.5"/>
    
    <text x="480" y="170" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ License Review & Approval
    </text>
    <text x="480" y="188" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Inspection Scheduling
    </text>
    <text x="480" y="206" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Incident Management
    </text>
    <text x="480" y="224" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Enforcement Actions
    </text>
    <text x="480" y="242" font-family="Arial, sans-serif" font-size="11" fill="white">
      ‚Ä¢ Public Portal (Verification)
    </text>
  </g>

  <!-- HIE Registries at Bottom -->
  <g id="registries">
    <!-- HFR -->
    <rect x="100" y="620" width="200" height="100" rx="8" fill="#16a085" filter="url(#shadow)"/>
    <text x="200" y="650" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">
      üè• HFR
    </text>
    <text x="200" y="670" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle">
      Health Facility
    </text>
    <text x="200" y="686" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle">
      Registry
    </text>
    <text x="200" y="705" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle" font-style="italic">
      (Facility Master Data)
    </text>

    <!-- HCWR -->
    <rect x="350" y="620" width="200" height="100" rx="8" fill="#16a085" filter="url(#shadow)"/>
    <text x="450" y="650" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">
      üë®‚Äç‚öïÔ∏è HCWR
    </text>
    <text x="450" y="670" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle">
      Health Worker
    </text>
    <text x="450" y="686" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle">
      Registry
    </text>
    <text x="450" y="705" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle" font-style="italic">
      (Practitioner Credentials)
    </text>

    <!-- CR -->
    <rect x="600" y="620" width="200" height="100" rx="8" fill="#16a085" filter="url(#shadow)"/>
    <text x="700" y="650" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">
      üë§ CR
    </text>
    <text x="700" y="670" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle">
      Client Registry
    </text>
    <text x="700" y="686" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle">
      (MPI)
    </text>
    <text x="700" y="705" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle" font-style="italic">
      (Patient Demographics)
    </text>

    <!-- SHR -->
    <rect x="850" y="620" width="200" height="100" rx="8" fill="#16a085" filter="url(#shadow)"/>
    <text x="950" y="650" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white" text-anchor="middle">
      üìã SHR
    </text>
    <text x="950" y="670" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle">
      Shared Health
    </text>
    <text x="950" y="686" font-family="Arial, sans-serif" font-size="11" fill="white" text-anchor="middle">
      Record
    </text>
    <text x="950" y="705" font-family="Arial, sans-serif" font-size="9" fill="white" text-anchor="middle" font-style="italic">
      (Clinical Data)
    </text>
  </g>

  <!-- Connection Lines - Apps to HIE Core -->
  <!-- Practice360 to HIE -->
  <line x1="250" y1="280" x2="470" y2="380" stroke="#7f8c8d" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="340" y="320" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d" font-weight="bold">
    API Calls
  </text>
  
  <!-- Facility360 to HIE -->
  <line x1="950" y1="280" x2="730" y2="380" stroke="#7f8c8d" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="860" y="320" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d" font-weight="bold">
    API Calls
  </text>

  <!-- Compliance360 to HIE -->
  <line x1="600" y1="260" x2="600" y2="350" stroke="#7f8c8d" stroke-width="3" marker-end="url(#arrowhead)"/>
  <text x="620" y="305" font-family="Arial, sans-serif" font-size="10" fill="#7f8c8d" font-weight="bold">
    API Calls
  </text>

  <!-- HIE Core to Registries -->
  <line x1="520" y1="500" x2="200" y2="620" stroke="#7f8c8d" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="570" y1="500" x2="450" y2="620" stroke="#7f8c8d" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="620" y1="500" x2="700" y2="620" stroke="#7f8c8d" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="680" y1="500" x2="950" y2="620" stroke="#7f8c8d" stroke-width="3" marker-end="url(#arrowhead)"/>

  <!-- Inter-app Communication Lines (dotted) -->
  <!-- Practice360 to Facility360 -->
  <line x1="330" y1="190" x2="870" y2="190" stroke="#95a5a6" stroke-width="2" stroke-dasharray="5,5" opacity="0.6"/>
  <text x="600" y="180" font-family="Arial, sans-serif" font-size="9" fill="#7f8c8d" text-anchor="middle">
    Shift Sync
  </text>

  <!-- Practice360 to Compliance360 -->
  <line x1="330" y1="150" x2="460" y2="150" stroke="#95a5a6" stroke-width="2" stroke-dasharray="5,5" opacity="0.6"/>
  <text x="395" y="140" font-family="Arial, sans-serif" font-size="9" fill="#7f8c8d" text-anchor="middle">
    License Updates
  </text>

  <!-- Facility360 to Compliance360 -->
  <line x1="870" y1="150" x2="740" y2="150" stroke="#95a5a6" stroke-width="2" stroke-dasharray="5,5" opacity="0.6"/>
  <text x="805" y="140" font-family="Arial, sans-serif" font-size="9" fill="#7f8c8d" text-anchor="middle">
    Applications
  </text>

  <!-- Legend -->
  <g id="legend">
    <rect x="50" y="730" width="1100" height="50" rx="5" fill="#ecf0f1" stroke="#bdc3c7" stroke-width="1"/>
    
    <text x="70" y="750" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#2c3e50">
      Legend:
    </text>
    
    <line x1="150" y1="745" x2="190" y2="745" stroke="#7f8c8d" stroke-width="3" marker-end="url(#arrowhead)"/>
    <text x="200" y="750" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">
      FHIR API Integration
    </text>
    
    <line x1="370" y1="745" x2="410" y2="745" stroke="#95a5a6" stroke-width="2" stroke-dasharray="5,5"/>
    <text x="420" y="750" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">
      Event-Driven Communication
    </text>
    
    <rect x="640" y="738" width="50" height="15" rx="3" fill="url(#practiceGrad)"/>
    <text x="700" y="750" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">
      HealthPro Apps
    </text>
    
    <rect x="840" y="738" width="50" height="15" rx="3" fill="url(#hieGrad)"/>
    <text x="900" y="750" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">
      HIE Core
    </text>
    
    <rect x="1000" y="738" width="50" height="15" rx="3" fill="#16a085"/>
    <text x="1060" y="750" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">
      Registries
    </text>
  </g>

  <!-- Footer -->
  <text x="600" y="770" font-family="Arial, sans-serif" font-size="9" fill="#7f8c8d" text-anchor="middle" font-style="italic">
    All applications communicate via OpenHIE Interoperability Layer using HL7 FHIR R4 standard
  </text>
</svg>
